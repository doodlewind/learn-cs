# 变量与类型

不论是 GUI 还是命令行，计算机程序的处理的内容总是**数据**。在编程语言中，我们可以通过**变量**的概念来存取数据。

对 JavaScript 这样灵活的脚本语言，编写形如 `var x = 123` 和 `var y = 'abc'` 的变量赋值代码是非常简单而直观的。但这也带来了潜在的问题：脚本语言用户在定义并使用变量时，往往只关注**变量名**，而忽略了变量的**类型**。

类型有多重要呢？类型系统可以成为划分编程语言的主要维度之一。字符串、整数、浮点数、布尔值、集合、字典……类型的背后是编程语言的种种设计决策，它直接关系到一门语言所写出代码的：

* **安全性** - 完善的静态类型检查能避开空指针等暗坑。
* **抽象能力** - 抽象能力强的语言通常能够支持更复杂的类型。
* **可维护性** - 动态类型一时爽，重构代码火葬场。
* **运行效率** - 能够静态推导出的类型更利于性能优化。

正是因为类型系统如此重要，因而在跑通 Hello World 之后，我们希望首先从类型系统出发来重新了解 C。


## 一等公民的类型
我们经常能够听见这样的说法：“JavaScript 中函数是一等公民。”那么一等公民有何定义，这样的划分在 C 语言中又是如何体现的呢？

可以宽泛地认为，一等公民相当于一门编程语言中这样的实体：

* 可以被存入变量。
* 可以作为函数参数传递。
* 可以作为函数返回值返回。
* 可以在运行时创建，无需编译期静态声明。
* 可以匿名存在。

面向对象语言中的对象类型满足上面的每一条规则，因而我们可以认为这些语言中对象是一等公民。类似地，JavaScript 的函数也满足这些规则，故而有 JavaScript 中函数一等公民的说法。而在 C 中，四种基本的运算类型 **char**、**int**、**float** 和 **double** 都属于一等公民，至于剩下的布尔值、数组、指针、结构体和函数呢？它们都有着各自的局限：

* C 没有原生的布尔值类型，TRUE 和 FALSE 不过是 0 和 1 的语法糖。
* C 不支持对数组重新赋值，只能通过指针间接操作。
* C 没有匿名指针。
* C 的结构体、枚举和联合类型不能够动态创建，只能静态指定。
* C 的函数不能像 `new Function()` 那样动态创建。

现在我们已经知道了 C 有哪些类型，其中又有哪些是一等公民。但要根据类型来快速了解一门编程语言，其维度显然不止这一点。下面我们不妨从动态类型和静态类型的区别，来看看 C 与 JavaScript 的异同。


## 动态类型与静态类型
TODO


## 强类型与弱类型
TODO


## 代码示例
TODO
